{
  "name": "classify rag",
  "nodes": [
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "documents",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "topK": 1,
        "includeDocumentMetadata": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.3,
      "position": [
        -48,
        112
      ],
      "id": "5180cc68-19a8-4229-8689-ac9f5ee51366",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "PLACEHOLDER_CREDENTIAL_ID",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "model": "nomic-embed-text:latest"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOllama",
      "typeVersion": 1,
      "position": [
        112,
        304
      ],
      "id": "95448e96-873e-4443-9ec2-ec84e4dde259",
      "name": "Embeddings Ollama",
      "credentials": {
        "ollamaApi": {
          "id": "PLACEHOLDER_CREDENTIAL_ID",
          "name": "Ollama account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -432,
        304
      ],
      "id": "272a81a7-b156-45c1-94cb-a8e6ce6bb22a",
      "name": "Google Gemini Chat Model2",
      "credentials": {
        "googlePalmApi": {
          "id": "PLACEHOLDER_CREDENTIAL_ID",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "78a2555a-8272-4779-9826-5f8ea5f9cacc",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -1600,
        -16
      ],
      "id": "d08505a6-4a50-46b1-a128-2ff7f78f55c2",
      "name": "Webhook",
      "webhookId": "78a2555a-8272-4779-9826-5f8ea5f9cacc"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -1376,
        336
      ],
      "id": "58947577-e15c-41a2-83db-2e2e9c32cb43",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "PLACEHOLDER_CREDENTIAL_ID",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.classify }}",
                    "rightValue": "ทั่วไป",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "d8c92562-7c57-42e4-a45c-cdda0ffa072d"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "=ทั่วไป"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "2d93d98a-6d31-481d-95d2-c891e2f418bd",
                    "leftValue": "={{ $json.classify }}",
                    "rightValue": "RAG",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "RAG"
            }
          ]
        },
        "options": {
          "fallbackOutput": "extra"
        }
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -608,
        -32
      ],
      "id": "0f859e18-d9e9-4cb7-a2df-8de807e920ad",
      "name": "Switch"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -352,
        -208
      ],
      "id": "cfdc1a25-7eda-4e62-819b-72e5027b548b",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "PLACEHOLDER_CREDENTIAL_ID",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
